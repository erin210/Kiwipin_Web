<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <title>KIWI WALLET</title>
    <script src="config.js"></script>
    <script>
        (function () {
            var base = document.createElement('base');
            base.href = window.pageBaseUrl;
            document.head.appendChild(base);
        })();
    </script>
    <script src="./assets/js/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/css/bootstrap-grid.css">
    <link rel="stylesheet" href="./assets/css/select2.min.css" />
    <link rel="stylesheet" href="./assets/css/wallet.css?v=241008">
    <script>
        function initFunction(jsonObj) {
            renderInfo(jsonObj);
        }
    </script>
</head>

<body class="walletBody">
    <div id="apiWallet">
        <div class="container">
            <aside>
                <div class="logo">
                    <img src="./assets/img/logo3.svg" alt="">
                </div>
                <div class="tabs">
                    <div class="tab tab1 active" rel="tab1">
                        <a href="wallet_mem_end.html">
                        <i class="oo1"></i>
                        <i class="oo2"></i>
                        <span class="imgbox tab_add">
                            <img src="./assets/img/icon_tab_add.svg" alt="">
                        </span>
                        <h3><span>儲值</span></h3>
                    </a>
                    </div>
                    <!-- <div class="tab tab2" rel="tab2">
                        <i class="oo1"></i>
                        <i class="oo2"></i>
                        <span class="imgbox">
                            <img src="./assets/img/icon_tab_add.svg" alt="">
                        </span>
                        <h3><span>購買</span></h3>
                    </div> -->
                </div>
            </aside>
            <div class="tab_container">
                <div class="loginBar">
                    <div>
                        <a href="wallet_mem_info.html">
                            <span class="imgbox arrow">
                                <img src="./assets/img/icon_prev_arrow.svg" alt="">
                            </span>返回</a>
                    </div>
                    <div>
                        <span class="imgbox">
                            <img src="./assets/img/icon_member.svg" alt="">
                        </span>
                        <span id="userID">abc12345@gmail.com</span>
                    </div>
                </div>
                <div class="scroll_bg">
                <!-- tab1 op-->
                <div id="tab1" class="tab_content">
                    <form role="form" id="form" action="" method="post" target="_self" class="form-payment">
                    <div class="form_list reg">
                        <h4>儲值錢包</h4>
                    </div>
                        <div class="card_wrapper">                      
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('100',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card100.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>1</i></span>USD
                                </div>
                            </div>
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('300',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card300.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>3</i></span>USD
                                </div>
                            </div>
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('500',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card500.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>5</i></span>USD
                                </div>
                            </div>
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('1000',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card1000.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>10</i></span>USD
                                </div>
                            </div>
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('2000',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card2000.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>20</i></span>USD
                                </div>
                            </div>
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('3000',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card3000.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>30</i></span>USD
                                </div>
                            </div>
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('4000',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card4000.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>40</i></span>USD
                                </div>
                            </div>
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('5000',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card5000.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>50</i></span>USD
                                </div>
                            </div>
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('10000',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card10000.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>100</i></span>USD
                                </div>
                            </div>
                            <div class="item">
                                <a href="javascript:void(0)" onclick="purchase('30000',this)">
                                    <figure class="card">
                                        <img src="assets/img/point_card30000.png" alt="">
                                    </figure>
                                </a>
                                <div class="price">
                                    <span>$<i>300</i></span>USD
                                </div>
                            </div>
                            <input type="hidden" name="U_PURCHASE_AMOUNT" value="0" id="U_PURCHASE_AMOUNT">
                        </div>
                    </form>

                </div>
                <!-- tab1 ed-->
            </div>
            </div>
            <div class="email_info">service@kiwipin.com.tw</div>
        </div>
    </div>

    <script>
        // console.log(window.location.hostname);
        //     console.log('Page Base URL:', pageBaseUrl);
        //     console.log('API Base URL:', apiUrl);

        $(function () {
            $('base').attr('href', apiUrl);
        });


        function renderInfo(json) {
        
        Object.keys(json).forEach(function(k){
          var eleName = '#' + k;
          //console.log(eleName + ' - ' + json[k]);
          if ($(eleName).length <= 0) {
            appendElement_Input('#form',k,json[k]);
          }else{
            $(eleName).val(json[k]);
          }
        });   
        
        $('#userID').text(json.U_EMAIL); 
      
      }
      
      function appendElement_Input(ele, name, value) {
        var textHtml = '<input type="hidden" name="' + name + '"';
        textHtml += ' value="' + value + '"';
        textHtml += '/>';
        $(ele).append(textHtml);
      }
      
      function purchase(amount, ele){
        $('#U_PURCHASE_AMOUNT').val(amount);
        document.getElementById('form').submit();
      }
    </script>

    <script>
        initFunction({ "Tpye":"PURCHASE","U_EMAIL":"amy@gmail.com"});
    </script>
</body>

</html>